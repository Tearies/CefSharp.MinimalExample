(function(t){function e(e){for(var a,n,o=e[0],l=e[1],d=e[2],c=0,u=[];c<o.length;c++)n=o[c],i[n]&&u.push(i[n][0]),i[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);h&&h(e);while(u.length)u.shift()();return r.push.apply(r,d||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,o=1;o<s.length;o++){var l=s[o];0!==i[l]&&(a=!1)}a&&(r.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},i={gannt:0},r=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var d=0;d<o.length;d++)e(o[d]);var h=l;r.push([1,"chunk-vendors"]),s()})({"030c":function(t,e,s){e=t.exports=s("2350")(!1),e.push([t.i,"\n*{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none\n}\n.tree-scroll-container{overflow:auto;max-width:100%\n}\n.main,.svg-container{width:100%;height:100%;background:#dbdbdb;overflow-y:hidden\n}\n.calendar-row-group rect{fill:#dbdbdb;stroke:#a0a0a0;stroke-width:1\n}\n.calendar-row-group text{fill:#000;font-family:Arial;font-size:12px\n}\nforeignObject>*{margin:0\n}\n.grid-horizontal-line,.grid-vertical-line{stroke:#a0a0a0;stroke-width:1\n}\n.ganttroot{background:#fff;width:100%;height:100%;display:grid;grid-template-columns:100%;grid-template-rows:auto 100%;background-color:rgba(41,40,38,.842)\n}\n.ganttcalendar{grid-row-start:1;grid-row-end:2;background:#dbdbdb;overflow-x:hidden;overflow-y:hidden\n}\n.ganttcalendar,.ganttcontent{grid-column-start:1;grid-column-end:1;width:100%\n}\n.ganttcontent{grid-row-start:2;grid-row-end:3;overflow-y:auto;overflow-x:auto;height:100%\n}\n.ganttfooter{grid-column-start:1;grid-column-end:1;grid-row-start:3;grid-row-end:4;width:100%\n}\n.svg-root{width:100%;height:100%\n}\n.calendar-group{background:#dbdbdb\n}",""])},"085b":function(t,e,s){e=t.exports=s("2350")(!1),e.i(s("030c"),""),e.push([t.i,"",""])},1:function(t,e,s){t.exports=s("be2a")},1750:function(t,e,s){var a=s("d45a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("3ffedfde",a,!0,{sourceMap:!1,shadowMode:!1})},"1eae":function(t,e,s){"use strict";var a=s("1750"),i=s.n(a);i.a},3373:function(t,e,s){var a=s("085b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("1947bfa1",a,!0,{sourceMap:!1,shadowMode:!1})},"689d":function(t,e,s){"use strict";var a=s("3373"),i=s.n(a);i.a},be2a:function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("097d");var a=s("a026"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bodyroot"},[s("div",{staticClass:"appcontent"},[s("Gantt",{attrs:{tasks:t.GetTasks,options:t.options},on:{SelectedItemChanged:t.OnSelectedItemChanged}})],1)])},r=[],n=(s("6b54"),s("e12d"));var o={title:{label:"Your project title as html (link or whatever...)",html:!0,style:{"font-size":"20px","vertical-align":"middle","font-weight":"400","line-height":"35px","padding-left":"22px","letter-spacing":"1px"}},taskList:{columns:[{id:1,label:"ID",value:"id",width:40},{id:2,label:"Description",value:"label",width:200,expander:!0},{id:3,label:"Start",value:function(t){return t.startDate.format("YYYY-MM-DD")},width:78},{id:4,label:"Type",value:"type",width:68},{id:5,label:"%",value:"progress",width:35}]},locale:{code:"en",Now:"Now","X-Scale":"Zoom-X","Y-Scale":"Zoom-Y","Task list width":"Task list","Before/After":"Expand","Display task list":"Task list"}},l=[{id:1,label:"TaskItem1",start:"2016-12-31 02:00:00",duration:10800,progress:0,description:"",type:"task"},{id:2,label:"TaskItem1",start:"2016-12-31 02:00:00",duration:10800,progress:0,description:"",type:"task"},{id:3,label:"TaskItem1",start:"2016-12-31 07:00:00",duration:3600,progress:0,description:"",type:"task"},{id:4,label:"TaskItem1",start:"2016-12-31 07:00:00",duration:1800,progress:0,description:"",type:"task"},{id:5,label:"TaskItem1",start:"2016-12-31 07:00:00",duration:3600,progress:0,description:"",type:"task"},{id:6,label:"TaskItem1",start:"2016-12-31 11:30:00",duration:1800,progress:0,description:"",type:"task"},{id:8,label:"TaskItem1",start:"2016-12-31 12:00:00",duration:3600,progress:0,description:"",dependentOn:[3],type:"task"},{id:9,label:"TaskItem1",start:"2016-12-31 12:00:00",duration:1800,progress:0,description:"",dependentOn:[4],type:"task"},{id:10,label:"TaskItem1",start:"2016-12-31 12:00:00",duration:3600,progress:0,description:"",dependentOn:[5],type:"task"},{id:11,label:"TaskItem1",start:"2016-12-31 12:10:00",duration:3600,progress:0,description:"",dependentOn:[6],type:"task"},{id:12,label:"TaskItem1",start:"2016-12-31 13:00:00",duration:1800,progress:0,description:"",dependentOn:[6],type:"task"},{id:13,label:"TaskItem1",start:"2016-12-31 13:00:00",duration:1800,progress:0,description:"",type:"task"},{id:14,label:"TaskItem1",start:"2016-12-31 13:00:00",duration:1800,progress:0,description:"",type:"task"},{id:15,label:"TaskItem1",start:"2016-12-31 13:00:00",duration:3600,progress:0,description:"",type:"task"},{id:16,label:"TaskItem1",start:"2016-12-31 13:30:00",duration:3600,progress:0,description:"",dependentOn:[1],type:"task"},{id:17,label:"TaskItem1",start:"2016-12-31 13:30:00",duration:3600,progress:0,description:"",dependentOn:[14],type:"task"},{id:18,label:"TaskItem1",start:"2016-12-31 14:00:00",duration:1800,progress:0,description:"",type:"task"},{id:19,label:"TaskItem1",start:"2016-12-31 14:10:00",duration:3600,progress:0,description:"",dependentOn:[12],type:"task"},{id:20,label:"TaskItem1",start:"2016-12-31 14:30:00",duration:7200,progress:0,description:"",dependentOn:[16],type:"task"},{id:21,label:"TaskItem1",start:"2016-12-31 14:20:00",duration:9600,progress:0,description:"",dependentOn:[18],type:"task"},{id:22,label:"TaskItem1",start:"2016-12-31 15:00:00",duration:28800,progress:0,description:"",type:"task"},{id:24,label:"TaskItem1",start:"2016-12-31 16:00:00",duration:1800,progress:0,description:"",dependentOn:[9],type:"task"},{id:25,label:"TaskItem1",start:"2016-12-31 16:00:00",duration:1200,progress:0,description:"TaskItem1TaskItem1TaskItem1TaskItem1TaskItem1TaskItem1",type:"task"},{id:26,label:"TaskItem1",start:"2016-12-31 16:00:00",duration:0,progress:0,description:"",type:"task"},{id:27,label:"TaskItem1",start:"2016-12-31 16:00:00",duration:0,progress:0,description:"",type:"task"},{id:28,label:"TaskItem1",start:"2016-12-31 16:10:00",duration:3e3,progress:0,description:"",type:"task"},{id:29,label:"TaskItem1",start:"2016-12-31 16:20:00",duration:600,progress:0,description:"TaskItem1TaskItem1",type:"task"},{id:30,label:"TaskItem1",start:"2016-12-31 16:30:00",duration:1800,progress:0,description:"",dependentOn:[24],type:"task"},{id:31,label:"TaskItem1",start:"2016-12-31 16:30:00",duration:7200,progress:0,description:"",dependentOn:[26],type:"task"},{id:32,label:"TaskItem1",start:"2016-12-31 16:30:00",duration:7200,progress:0,description:"",dependentOn:[27],type:"task"},{id:33,label:"TaskItem1",start:"2016-12-31 17:00:00",duration:1800,progress:0,description:"",dependentOn:[12],type:"task"},{id:34,label:"TaskItem1",start:"2016-12-31 17:00:00",duration:19800,progress:0,description:"",dependentOn:[25],type:"task"},{id:35,label:"TaskItem1",start:"2016-12-31 17:00:00",duration:3600,progress:0,description:"",type:"task"},{id:36,label:"TaskItem1",start:"2016-12-31 17:10:00",duration:4800,progress:0,description:"",dependentOn:[33],type:"task"},{id:37,label:"TaskItem1",start:"2016-12-31 17:30:00",duration:14400,progress:0,description:"",type:"task"},{id:38,label:"TaskItem1",start:"2016-12-31 17:30:00",duration:3600,progress:0,description:"",dependentOn:[8],type:"task"},{id:39,label:"TaskItem1",start:"2016-12-31 17:30:00",duration:1800,progress:0,description:"",dependentOn:[30],type:"task"},{id:40,label:"TaskItem1",start:"2016-12-31 17:30:00",duration:3600,progress:0,description:"",dependentOn:[10],type:"task"},{id:41,label:"TaskItem1",start:"2016-12-31 18:00:00",duration:19800,progress:0,description:"",type:"task"},{id:42,label:"TaskItem1",start:"2016-12-31 12:00:00",duration:10800,progress:0,description:"TaskItem1TaskItem1TaskItem1TaskItem1",type:"task"},{id:43,label:"TaskItem1",start:"2016-12-31 19:00:00",duration:3600,progress:0,description:"",dependentOn:[16],type:"task"},{id:44,label:"TaskItem1",start:"2016-12-31 19:00:00",duration:1800,progress:0,description:"",type:"task"},{id:45,label:"TaskItem1",start:"2016-12-31 19:00:00",duration:1800,progress:0,description:"",dependentOn:[14],type:"task"},{id:46,label:"TaskItem1",start:"2016-12-31 19:30:00",duration:30600,progress:0,description:"TaskItem1TaskItem1TaskItem1TaskItem1",type:"task"},{id:47,label:"TaskItem1",start:"2016-12-31 19:30:00",duration:3600,progress:0,description:"",dependentOn:[45],type:"task"},{id:48,label:"TaskItem1",start:"2016-12-31 20:00:00",duration:1800,progress:0,description:"",dependentOn:[33],type:"task"},{id:49,label:"TaskItem1",start:"2016-12-31 20:00:00",duration:1800,progress:0,description:"",type:"task"},{id:50,label:"TaskItem1",start:"2016-12-31 20:00:00",duration:3600,progress:0,description:"",type:"task"},{id:51,label:"TaskItem1",start:"2016-12-31 20:10:00",duration:3300,progress:0,description:"",dependentOn:[48],type:"task"},{id:52,label:"TaskItem1",start:"2016-12-31 20:15:00",duration:5400,progress:0,description:"",dependentOn:[43],type:"task"},{id:53,label:"TaskItem1",start:"2016-12-31 21:00:00",duration:1800,progress:0,description:"",type:"task"},{id:54,label:"TaskItem1",start:"2016-12-31 21:00:00",duration:9e3,progress:0,description:"",type:"task"},{id:55,label:"TaskItem1",start:"2016-12-31 21:00:00",duration:54e3,progress:0,description:"含ODAS日终",type:"task"},{id:56,label:"TaskItem1",start:"2016-12-31 21:00:00",duration:1800,progress:0,description:"",type:"task"},{id:57,label:"TaskItem1",start:"2016-12-31 21:10:00",duration:3e3,progress:0,description:"",type:"task"},{type:"task",id:58,label:"TaskItem1",start:"2016-12-31 21:30:00",duration:1800,progress:0,description:""},{type:"task",id:59,label:"TaskItem1",start:"2016-12-31 22:00:00",duration:1800,progress:0,description:"",dependentOn:[48]},{type:"task",id:62,label:"TaskItem1",start:"2016-12-31 22:00:00",duration:3600,progress:0,description:""},{type:"task",id:63,label:"TaskItem1",start:"2016-12-31 22:30:00",duration:30600,progress:0,description:""},{type:"task",id:64,label:"TaskItem1",start:"2016-12-31 22:10:00",duration:4800,progress:0,description:"",dependentOn:[59]},{type:"task",id:65,label:"TaskItem1",start:"2016-12-31 23:00:00",duration:1800,progress:0,description:""},{type:"task",id:66,label:"TaskItem1",start:"2016-12-31 23:30:00",duration:5580,progress:0,description:""},{type:"task",id:67,label:"TaskItem1",start:"2016-12-31 23:30:00",duration:34200,progress:0,description:""},{type:"task",id:68,label:"TaskItem1",start:"2017-01-01 00:00:00",duration:27e3,progress:0,description:"TaskItem1"},{type:"task",id:69,label:"TaskItem1",start:"2017-01-01 01:00:00",duration:0,progress:0,description:"TaskItem1TaskItem1TaskItem1TaskItem1TaskItem1"},{type:"task",id:70,label:"TaskItem1",start:"2017-01-01 01:30:00",duration:12600,progress:0,description:""},{type:"task",id:71,label:"TaskItem1",start:"2017-01-01 05:00:00",duration:7200,progress:0,description:""},{type:"task",id:72,label:"TaskItem1",start:"2017-01-01 05:30:00",duration:3600,progress:0,description:""},{type:"task",id:73,label:"TaskItem1",start:"2017-01-01 07:00:00",duration:7200,progress:0,description:""},{type:"task",id:74,label:"TaskItem1",start:"2017-01-01 07:30:00",duration:3600,progress:0,description:""},{type:"task",id:75,label:"TaskItem1",start:"2017-01-01 07:30:00",duration:32400,progress:0,description:"TaskItem1TaskItem1",dependentOn:[68]},{type:"task",id:76,label:"TaskItem1",start:"2017-01-01 09:00:00",duration:34800,progress:0,description:""},{type:"task",id:77,label:"TaskItem1",start:"2017-01-01 09:00:00",duration:17400,progress:0,description:""},{type:"task",id:78,label:"TaskItem1",start:"2017-01-01 13:50:00",duration:18600,progress:0,description:"",dependentOn:[77]},{type:"task",id:79,label:"TaskItem1",start:"2017-01-01 14:00:00",duration:59400,progress:0,description:""},{type:"task",id:80,label:"TaskItem1",start:"2017-01-01 17:30:00",duration:39600,progress:0,description:""},{type:"task",id:81,label:"TaskItem1",start:"2017-01-01 18:40:00",duration:22800,progress:0,description:"",dependentOn:[76]},{type:"task",id:82,label:"TaskItem1",start:"2017-01-01 19:00:00",duration:61200,progress:0,description:""},{type:"task",id:83,label:"TaskItem1",start:"2017-01-01 19:00:00",duration:1200,progress:0,description:""},{type:"task",id:84,label:"TaskItem1",start:"2017-01-01 19:20:00",duration:1200,progress:0,description:""},{type:"task",id:85,label:"TaskItem1",start:"2017-01-02 01:00:00",duration:2400,progress:0,description:""},{type:"task",id:86,label:"TaskItem1",start:"2017-01-02 01:40:00",duration:3e4,progress:0,description:""},{type:"task",id:87,label:"TaskItem1",start:"2017-01-02 03:30:00",duration:19800,progress:0,description:""},{type:"task",id:88,label:"TaskItem1",start:"2017-01-02 12:00:00",duration:9e3,progress:0,description:""},{type:"task",id:89,label:"TaskItem1",start:"2017-01-09 21:00:00",duration:54e3,progress:0,description:""},{type:"task",id:90,label:"TaskItem1",start:"2017-01-10 12:00:00",duration:21600,progress:0,description:""},{type:"task",id:91,label:"TaskItem1",start:"2017-01-10 18:00:00",duration:9e3,progress:0,description:""}],d={components:{Gantt:n["a"]},data:function(){return{tasks:l,options:o}},created:function(){console.log("registor data to glob"),Window.Instance=this},methods:{OnSelectedItemChanged:function(t){var e=window.callBack;e&&e.OnSelectedItemChanged(t.id.toString())},UpdateTasks:function(t){this.tasks=t}},computed:{GetTasks:function(){return this.tasks}}},h=d,c=(s("1eae"),s("2877")),u=Object(c["a"])(h,i,r,!1,null,null,null);u.options.__file="gantt.vue";var p=u.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(p)}}).$mount("#app")},d45a:function(t,e,s){e=t.exports=s("2350")(!1),e.push([t.i,"\n*{padding:0;margin:0\n}\n.bodyroot{width:100vw;height:100vh;display:grid;grid-template-columns:1fr;grid-template-rows:1fr;background-color:rgba(41,40,38,.842)\n}\n.appcontent{max-height:100%;grid-row-start:1;grid-row-end:2;grid-column-start:1;grid-column-end:2;overflow-y:auto\n}",""])},e12d:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Main",{attrs:{tasks:t.tasks,options:t.options}})},i=[],r=(s("c5f6"),s("87f3"),s("456d"),s("ac6a"),s("f751"),s("53ca")),n=s("ade3"),o=s("5a0c"),l=s.n(o),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("svg",{ref:"svgMain",staticClass:"svg-container",attrs:{xmlns:"http://www.w3.org/2000/svg"}},[s("foreignObject",{ref:"svgTreeContainer",attrs:{x:"0",y:"0",width:"100%",height:"100%"}},[s("svg",{ref:"svgTree",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},on:{mousedown:function(e){return e.stopPropagation(),t.treeMouseDown(e)},mouseup:[function(e){return e.stopPropagation(),t.treeMouseUp(e)},t.mouseUp],mousemove:[function(e){return e.stopPropagation(),t.treeMouseMove(e)},t.mouseMove]}},[s("defs",{domProps:{innerHTML:t._s(t.defs)}}),s("tree")],1)])],1)])},h=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"ganttroot",attrs:{x:"0",y:"0",xmlns:"http://www.w3.org/2000/svg"}},[s("foreignObject",{ref:"treeScrollContainer",staticClass:"ganttcontent",on:{scroll:t.onScroll}},[s("svg",{attrs:{width:t.getWidth,height:t.getHeight},on:{wheel:t.onWheel}},[s("g",[t._l(t.root.visibleTasks,function(e){return s("g",{attrs:{task:e}},[s(e.type,{tag:"component",attrs:{task:e}}),1==e.descriptionVisible?s("description",{attrs:{task:e}}):t._e()],1)}),s("dependency-lines",{attrs:{tasks:t.root.visibleTasks}}),s("grid")],2)])]),s("foreignObject",{ref:"calendartreeScrollContainer",staticClass:"ganttcalendar",attrs:{x:"0",height:t.root.state.calendar.height}},[s("svg",{attrs:{width:t.getWidth}},[s("g",[s("calendar")],1)])])],1)},u=[],p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",[t._l(t.horizontalLines,function(e,a){return s("line",{key:e.key,style:t.getHStyle,attrs:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}})}),t._l(t.horizontalrects,function(e,a){return s("rect",{key:e.key,style:[e.IsActive?t.GetRActiveStyle:a%2==0?t.GetRStyle:t.GetRInStyle],attrs:{x:e.x1,y:e.y1,height:e.height,width:"100%"},domProps:{data:e},on:{mouseover:t.OnRectMouseenter,mouseout:t.OnRectMouseleave,click:t.OnMouseClick}})}),t._l(t.verticalLines,function(e,a){return e.inViewPort?s("line",{key:e.key,staticClass:"grid-vertical-line",style:t.getVStyle,attrs:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}):t._e()}),s("line",{style:t.root.state.grid.timeLine.style,attrs:{x1:t.timeLinePosition.x,y1:t.timeLinePosition.y1,x2:t.timeLinePosition.x,y2:t.timeLinePosition.y2}})],2)},f=[],m={inject:["root"],data:function(){return{verticalLines:[],horizontalLines:[],horizontalrects:[]}},created:function(){this.$root.$on("gantt.recenterPosition",this.recenterPosition),this.$root.$on("gantt.scope.change",this.regenerate),this.$root.$on("gantt.times.timeZoom.change",this.regenerate),this.$root.$on("gantt.row.height.change",this.regenerate),this.$root.$on("gantt.tree.scroll",this.regenerate),this.$root.$on("gantt.dataChanged",this.regenerate),this.regenerate()},mounted:function(){var t=this;this.$nextTick(function(){t.$nextTick(function(){t.root.scrollToTime(t.timeLinePosition.time)})})},methods:{OnMouseClick:function(t){if(t.shiftKey)this.$root.$emit("gantt.recenterPosition");else{var e=t.target.data;this.$root.$emit("gantt.OnClickItem",e.Task)}},OnRectMouseenter:function(t){var e=t.target.data;e.IsActive=!0},OnRectMouseleave:function(t){var e=t.target.data;e.IsActive=!1},recenterPosition:function(){this.root.scrollToTime(this.timeLinePosition.time)},generateVerticalLines:function(){var t=this,e=[],s=this.root.state;return s.times.steps.forEach(function(a){e.push({key:a.date.valueOf(),x1:a.offset.px,y1:s.calendar.styles.column["stroke-width"]+s.calendar.gap,x2:a.offset.px,y2:s.calendar.styles.column["stroke-width"]+s.calendar.gap+s.calendar.height+s.tasks.length*(2*s.grid.horizontal.gap)+s.row.CountHeight+s.grid.horizontal.style.strokeWidth,inViewPort:t.root.isInsideViewPort(a.offset.px,1)})}),this.verticalLines=e},generateHorizontalLines:function(){for(var t=[],e=[],s=this.root.state,a=this.root.visibleTasks,i=0,r=0,n=a.length;r<n;r++){var o=a[r],l=o.id,d=s.row.height[l],h=r*(2*s.grid.horizontal.gap)+i+s.calendar.height+s.calendar.styles.column["stroke-width"]+s.calendar.gap+s.grid.horizontal.style.strokeWidth/2,c={key:"hl"+r,x1:0,y1:h,x2:"100%",y2:h};t.push(c);var u={key:"rl"+r,Task:o,IsActive:!1,x1:0,y1:r*(2*s.grid.horizontal.gap)+i+s.calendar.height+s.calendar.styles.column["stroke-width"]+s.calendar.gap+s.grid.horizontal.style.strokeWidth/2,height:d+2*s.grid.horizontal.gap-s.grid.horizontal.style.strokeWidth/2};e.push(u),i+=d}return this.horizontalrects=e,this.horizontalLines=t},regenerate:function(){var t=this;this.$nextTick(function(){t.generateVerticalLines(),t.generateHorizontalLines()})}},computed:{inViewPort:function(){var t=this;return function(e){var s=t.root.state;return e.x1>=s.scroll.tree.left&&e.x1<=s.scroll.tree.right}},timeLinePosition:function(){var t=this.root.state,e=new Date,s=e.getTime(),a=this.root.timeToPixelOffsetX(s),i={x:0,y1:t.calendar.gap,y2:"100%",dateTime:"",time:s};return i.x=a,i.dateTime=e.toLocaleDateString(),i},getVStyle:function(){return this.root.state.grid.vertical.style},getHStyle:function(){return this.root.state.grid.horizontal.style},GetRStyle:function(){return this.root.state.grid.Rect.style},GetRInStyle:function(){return this.root.state.grid.RectIn.style},GetRActiveStyle:function(){return this.root.state.grid.RectAc.style}}},g=m,k=s("2877"),y=Object(k["a"])(g,p,f,!1,null,null,null);y.options.__file="Grid.vue";var v=y.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",[s("foreignObject",{attrs:{x:t.getX,y:t.getY,width:t.getWidth,height:t.root.state.calendar.height}},[s("div",{staticClass:"calendar",style:t.root.state.calendar.styles.wrapper,attrs:{xmlns:"http://www.w3.org/1999/xhtml"}})]),t._l(t.months,function(e,a){return s("calendar-row",{key:e.key,attrs:{item:e,rowStyle:t.monthsStyle}})}),t._l(t.days,function(e,a){return t.root.isInsideViewPort(e.x,e.width)?s("calendar-row",{key:e.key,attrs:{item:e,rowStyle:t.daysStyle}}):t._e()}),t._l(t.hours,function(e,a){return t.root.isInsideViewPort(e.x,e.width)?s("calendar-row",{key:e.key,attrs:{item:e,rowStyle:t.hoursStyle}}):t._e()})],2)},T=[],b=(s("cadf"),s("551c"),s("097d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{staticClass:"calendar-row-group"},[s("rect",{staticClass:"calendar-row",style:t.rowStyle,attrs:{x:t.item.x,y:t.item.y,width:t.item.width,height:t.item.height}}),s("text",{style:t.root.state.calendar.styles.text,attrs:{x:t.getTextX,y:t.getTextY,"alignment-baseline":"middle","text-anchor":"middle"}},[t._v(t._s(t.item.label))])])}),x=[],I={inject:["root"],props:["item","rowStyle"],data:function(){return{}},computed:{getTextX:function(){return this.item.x+this.item.width/2},getTextY:function(){return this.item.y+this.item.height/2}}},O=I,S=Object(k["a"])(O,b,x,!1,null,null,null);S.options.__file="CalendarRow.vue";var C=S.exports,M={components:{CalendarRow:C},inject:["root"],data:function(){return{hours:[],days:[],months:[]}},created:function(){this.$root.$on("gantt.scope.change",this.regenerate),this.$root.$on("gantt.times.timeZoom.change",this.regenerate),this.$root.$on("gantt.dataChanged",this.regenerate),this.regenerate()},methods:{howManyHoursFit:function(t){l()(this.root.state.times.steps[t].date);for(var e=this.root.state.calendar.styles.column["stroke-width"]+2,s=this.root.state.times.steps[t].width.px,a=Object.keys(this.root.state.calendar.hour.format),i=24;i>1;i=Math.ceil(i/2))for(var r=0;r<a.length;r++){var n=a[r];if((this.root.state.calendar.hour.maxWidths[n]+e)*i<=s&&i>1)return{count:i,type:n}}return{count:0,type:""}},howManyDaysFit:function(){l()(this.root.state.times.steps[0].date);for(var t=this.root.state.calendar.styles.column["stroke-width"]+2,e=this.root.state.width,s=Object.keys(this.root.state.calendar.day.format),a=this.root.state.times.steps.length;a>1;a=Math.ceil(a/2))for(var i=0;i<s.length;i++){var r=s[i];if((this.root.state.calendar.day.maxWidths[r]+t)*a<=e&&a>1)return{count:a,type:r}}return{count:0,type:""}},howManyMonthsFit:function(){l()(this.root.state.times.firstDate);var t=this.root.state.calendar.styles.column["stroke-width"]+2,e=this.root.state.width,s=Object.keys(this.root.state.calendar.month.format),a=(this.root.state.times.firstDate.month(),l()(this.root.state.times.firstDate)),i=a.clone(),r=this.root.state.times.lastTime,n=1;while(a.valueOf()<=r)a=a.add(1,"day"),i.month()!=a.month()&&n++,i=a.clone();for(var o=n;o>1;o=Math.ceil(o/2))for(var d=0;d<s.length;d++){var h=s[d];if((this.root.state.calendar.month.maxWidths[h]+t)*o<=e&&o>1)return{count:o,type:h}}return{count:1,type:s[0]}},hourTextStyle:function(){return"font-family:"+this.root.state.calendar.hour.fontFamily+";font-size:"+this.root.state.calendar.hour.fontSize},dayTextStyle:function(){return"font-family:"+this.root.state.calendar.day.fontFamily+";font-size:"+this.root.state.calendar.day.fontSize},generateHours:function(){for(var t=[],e=0,s=this.root.state.times.steps.length;e<s;e++)for(var a=this.howManyHoursFit(e),i=24/a.count,r=this.root.state.times.steps[e].width.px/a.count,n=0,o=a.count;n<o;n++){var d=l()(this.root.state.times.steps[e].date).add(n*i,"hour");t.push({key:this.root.state.times.steps[e].date.valueOf()+"h"+n,x:this.root.state.calendar.styles.column["stroke-width"]/2+this.root.state.times.steps[e].offset.px+r*n,y:this.root.state.calendar.styles.column["stroke-width"]/2+this.root.state.calendar.day.height+this.root.state.calendar.month.height,width:r,height:this.root.state.calendar.hour.height,label:this.root.state.calendar.hour.format[a.type](d)})}return this.hours=t},generateDays:function(){for(var t=[],e=this.howManyDaysFit(),s=Math.ceil(this.root.state.times.steps.length/e.count),a=0,i=this.root.state.times.steps.length;a<i;a+=s){for(var r=0,n=0;n<s;n++)"undefined"!==typeof this.root.state.times.steps[a+n]&&(r+=this.root.state.times.steps[a+n].width.px);var o=l()(this.root.state.times.steps[a].date);t.push({key:this.root.state.times.steps[a].date.valueOf()+"d",x:this.root.state.calendar.styles.column["stroke-width"]/2+this.root.state.times.steps[a].offset.px,y:this.root.state.calendar.styles.column["stroke-width"]/2+this.root.state.calendar.month.height,width:r,height:this.root.state.calendar.day.height,label:this.root.state.calendar.day.format[e.type](o)})}return this.days=t},generateMonths:function(){for(var t=[],e=this.howManyMonthsFit(),s=Object.keys(this.root.state.calendar.month.format),a=l()(this.root.state.times.firstDate),i=0;i<e.count;i++){var r=0,n=Number.MAX_SAFE_INTEGER,o=l()(a).add(1,"month").startOf("month");o.valueOf()>this.root.state.times.lastDate.valueOf()&&(o=l()(this.root.state.times.lastDate));for(var d=0,h=this.root.state.times.steps.length;d<h;d++){var c=this.root.state.times.steps[d];c.date.valueOf()>=a.valueOf()&&c.date.valueOf()<o.valueOf()&&(r+=c.width.px,c.offset.px<n&&(n=c.offset.px))}for(var u="",p=0;p<s.length;p++){var f=s[p];this.root.state.calendar.month.maxWidths[f]+2<=r&&(u=this.root.state.calendar.month.format[f](a))}t.push({key:i+"m",x:this.root.state.calendar.styles.column["stroke-width"]/2+n,y:this.root.state.calendar.styles.column["stroke-width"]/2,width:r,height:this.root.state.calendar.month.height,label:u}),a=a.add(1,"month").startOf("month"),a.valueOf()>this.root.state.times.lastDate.valueOf()&&(a=l()(this.root.state.times.lastDate))}return this.months=t},regenerate:function(){var t=this;this.$nextTick(function(){t.generateHours(),t.generateDays(),t.generateMonths()})}},computed:{getX:function(){return this.root.state.calendar.styles.column["stroke-width"]/2},getY:function(){return this.root.state.calendar.styles.column["stroke-width"]/2},getWidth:function(){var t=this.root.state.width-this.root.state.calendar.styles.column["stroke-width"];return t},monthsStyle:function(){return this.root.mergeDeep({},this.root.state.calendar.styles.row,this.root.state.calendar.month.style)},daysStyle:function(){return this.root.mergeDeep({},this.root.state.calendar.styles.row,this.root.state.calendar.day.style)},hoursStyle:function(){return this.root.mergeDeep({},this.root.state.calendar.styles.row,this.root.state.calendar.hour.style)}}},D=M,L=Object(k["a"])(D,w,T,!1,null,null,null);L.options.__file="Calendar.vue";var P=L.exports,W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{staticClass:"tree-dependency-lines-container"},t._l(t.dependencyTasks,function(e){return s("g",{key:e.id,attrs:{task:e}},[s("defs",[s("marker",{attrs:{id:"arrow",markerUnits:"strokeWidth",markerWidth:"12",markerHeight:"12",viewBox:"0 0 12 12",refX:"6",refY:"6",orient:"auto"}},[s("path",{style:t.root.state.dependencyLines.Arrow,attrs:{d:"M2,2 L10,6 L2,10 L6,6 L2,2"}})])]),t._l(e.dependencyLines,function(a){return s("path",{key:a.id,style:t.root.state.dependencyLines.style,attrs:{"marker-end":"url(#arrow)",task:e,d:a.points}})})],2)}),0)},$=[],_={inject:["root"],props:["tasks"],data:function(){return{}},methods:{getPoints:function(t,e){this.root.state;var s=this.root.getTask(t),a=this.root.getTask(e);if(!a.visible||!s.visible)return"";var i,r=s.x+s.width,n=s.y+s.height/2,o=a.x,l=a.y+a.height/2,d=o-r,h=1;l>=n?i=l-n:(i=n-l,h=-1);var c=10,u=4,p=d<=c+u,f="M ".concat(r," ").concat(n,"\n          L ").concat(r+c,",").concat(n," ");return f+=p?"Q ".concat(r+c+u,",").concat(n," ").concat(r+c+u,",").concat(n+u*h,"\n            L ").concat(r+c+u,",").concat(n+i*h/2-u*h,"\n            Q ").concat(r+c+u,",").concat(n+i*h/2," ").concat(r+c,",").concat(n+i*h/2,"\n            L ").concat(r-c+d,",").concat(n+i*h/2,"\n            Q ").concat(r-c+d-u,",").concat(n+i*h/2," ").concat(r-c+d-u,",").concat(n+i*h/2+u*h,"\n            L ").concat(r-c+d-u,",").concat(l-u*h,"\n            Q ").concat(r-c+d-u,",").concat(l," ").concat(r-c+d,",").concat(l,"\n            L ").concat(o-6,",").concat(l):"L ".concat(r+d/2-u,",").concat(n,"\n            Q ").concat(r+d/2,",").concat(n," ").concat(r+d/2,",").concat(n+u*h,"\n            L ").concat(r+d/2,",").concat(l-u*h,"\n            Q ").concat(r+d/2,",").concat(l," ").concat(r+d/2+u,",").concat(l,"\n            L ").concat(o-6,",").concat(l),f}},computed:{dependencyTasks:function(){var t=this;return this.tasks.filter(function(t){return"undefined"!==typeof t.dependentOn}).map(function(e){return e.dependencyLines=e.dependentOn.map(function(s){return{points:t.getPoints(s,e.id)}}),e})}}},z=_,j=Object(k["a"])(z,W,$,!1,null,null,null);j.options.__file="DependencyLines.vue";var H=j.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{staticClass:"tree-row-task-group"},[s("svg",{staticClass:"tree-row-task",attrs:{x:t.task.x,y:t.task.y,width:t.task.width,height:t.task.height+"px",xmlns:"http://www.w3.org/2000/svg"}},[s("defs",[s("clipPath",{attrs:{id:t.clipPathId}},[s("polygon",{attrs:{points:t.getPoints}})])]),s("polygon",{style:t.getStyle,attrs:{points:t.getPoints}}),s("progress-bar",{attrs:{task:t.task,"clip-path":"url(#"+t.clipPathId+")"}}),t.root.state.row.showText?s("tree-text",{staticClass:"tree-row-task",attrs:{x:t.task.x,y:t.task.y,task:t.task}}):t._e()],1)])},R=[],G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{staticClass:"tree-row-text"},[s("foreignObject",{style:t.root.state.treeText.styles.background,attrs:{width:t.task.width,height:"100%"}},[s("div",{style:t.root.state.treeText.styles.text},[t._v(t._s(t.task.label))])])],1)},Y=[],V={inject:["root"],props:["task"],data:function(){return{}},computed:{}},A=V,X=Object(k["a"])(A,G,Y,!1,null,null,null);X.options.__file="Text.vue";var B=X.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{staticClass:"tree-row-progress-bar"},[t.root.state.progress.bar?s("rect",{style:t.getSolidStyle,attrs:{id:"tree-row-progress",x:"0",y:"0",width:t.getProgressWidth}}):t._e(),t.root.state.progress.pattern?s("g",[s("rect",{style:t.root.state.progress.styles.bar.pattern,attrs:{x:t.getProgressWidth,width:100-t.task.progress+"%",y:"0"}}),s("path",{style:t.getLineStyle,attrs:{d:t.getLinePoints}})]):t._e()])},F=[],Z={inject:["root"],props:["task"],data:function(){return{}},computed:{getProgressWidth:function(){return this.task.progress+"%"},getLinePoints:function(){var t=this.task.width/100*this.task.progress;return"M ".concat(t," 0 L ").concat(t," ").concat(this.task.height)},getSolidStyle:function(){return Object.assign({},this.root.state.progress.styles.bar.solid,this.task.progressBarStyle.bar)},getLineStyle:function(){return Object.assign({},{stroke:this.root.state.row.styles.bar.stroke+"a0","stroke-width":this.root.state.row.styles.bar["stroke-width"]/2},this.task.style)}}},N=Z,Q=Object(k["a"])(N,U,F,!1,null,null,null);Q.options.__file="ProgressBar.vue";var K=Q.exports,J={components:{TreeText:B,ProgressBar:K},inject:["root"],props:["task"],data:function(){return{}},computed:{clipPathId:function(){return"task-clip-path-"+this.task.id},getViewBox:function(){var t=this.task;return"0 0 ".concat(t.width," ").concat(t.height)},getGroupTransform:function(){return"translate(".concat(this.task.x," ").concat(this.task.y,")")},getPoints:function(){var t=this.task;this.task.height,this.task.height,this.task.height;return"0,0 ".concat(t.width,",0 ").concat(t.width,",").concat(t.height," 0,").concat(t.height)},getStyle:function(){return Object.assign({},this.root.state.row.styles.bar,this.task.style)}}},q=J,tt=Object(k["a"])(q,E,R,!1,null,null,null);tt.options.__file="Task.vue";var et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{staticClass:"tree-row-task-group"},[s("svg",{staticClass:"tree-row-task"},[s("defs",[s("marker",{attrs:{id:"desarrow",markerUnits:"strokeWidth",markerWidth:"12",markerHeight:"12",viewBox:"0 0 12 12",refX:"6",refY:"6",orient:"auto"}},[s("path",{style:t.root.state.description.Arrow,attrs:{d:"M2,2 L10,6 L2,10 L6,6 L2,2"}})])]),s("foreignObject",{style:t.root.state.description.styles.background,attrs:{x:t.getxPadding,y:t.task.y,width:t.GetRectWidth}},[s("div",{style:t.root.state.description.styles.text},[t._v(t._s(t.task.description))])]),s("g",[s("path",{style:t.root.state.description.style,attrs:{"marker-end":"url(#desarrow)",d:t.gentDescriptionPoints}})])],1)])},at=[],it={props:["task"],inject:["root"],data:function(){return{state:{}}},mounted:function(){this.$nextTick(function(){})},methods:{getPoints:function(){},GetRenderWith:function(){return 140},getIsRight:function(t){var e=this.task.x-t;return e<=10},GetInnerDescriptionPoints:function(t,e){var s=this.getInnerxPadding(e)+this.GetRenderWith(),a=this.task.y+this.task.height/2;t&&(s=this.task.x+this.task.width);var i=this.task.x;t&&(i=this.task.x+this.task.width+50);var r="M ".concat(s," ").concat(a,"\n          L ").concat(s,",").concat(a," ");return r+="L ".concat(i-6,",").concat(a),r},getInnerxPadding:function(t){if(this.getIsRight(t)){var e=this.task.x+this.task.width+50;return e}e=this.task.x-t-50;return e}},computed:{getxPadding:function(){var t=this.GetRenderWith();return this.getInnerxPadding(t)},GetRectWidth:function(){return this.GetRenderWith()},gentDescriptionPoints:function(){var t=this.GetRenderWith(),e=this.getIsRight(t);return this.GetInnerDescriptionPoints(e,t)}}},rt=it,nt=Object(k["a"])(rt,st,at,!1,null,null,null);nt.options.__file="Description.vue";var ot=nt.exports,lt={components:{Grid:v,DependencyLines:H,Calendar:P,Task:et,description:ot},inject:["root"],data:function(){return{}},methods:{onWheel:function(t){t.shiftKey&&!t.altKey?this.$root.$emit("gantt.times.timeZoom.change",t):t.altKey&&t.shiftKey&&this.$root.$emit("gantt.tree.OnMouseWheel",t)},onScroll:function(t){this.$root.$emit("gantt.tree.scroll",t)},InitializeUI:function(){this.root.state.treeScrollContainer=this.$refs.treeScrollContainer,this.root.state.calendartreeScrollContainer=this.$refs.calendartreeScrollContainer},ReBindingTreeScrollContainer:function(){this.InitializeUI()}},mounted:function(){this.$root.$on("gantt.main.InitializeUI",this.ReBindingTreeScrollContainer),this.InitializeUI()},computed:{getWidth:function(){var t=this.root.state;return t.width},getHeight:function(){var t=this.root.state;return t.height}}},dt=lt,ht=Object(k["a"])(dt,c,u,!1,null,null,null);ht.options.__file="Tree.vue";var ct=ht.exports,ut={components:{Tree:ct},inject:["root"],props:["tasks","options"],data:function(){return{defs:"",moving:!1}},created:function(){var t="";try{for(var e=0,s=document.styleSheets.length;e<s;e++){var a=document.styleSheets[e];if("style"===a.title){for(var i=0,r=a.rules.length;i<r;i++){var n=a.rules[i];t+=n.cssText+"\n"}break}}this.defs='<style type="text/css">'.concat(t,"</style>"),this.root.state.defs.push(this.defs)}catch(o){console.log("Cannot add stylesheet to SVG. You must run this app from server.")}},watch:{tasks:{handler:function(t,e){this.$root.$emit("gantt.dataChanged"),this.InitializeUI()},deep:!0}},mounted:function(){this.InitializeUI()},computed:{getWidth:function(){return this.root.state.width},getMainStyle:function(){var t=this.root.state;return{width:t.width+"px"}},getMarginLeft:function(){return"0px"}},methods:{treeMouseDown:function(t){this.moving=!0},treeMouseUp:function(t){this.moving=!1},treeMouseMove:function(t){this.moving&&this.$root.$emit("gantt.tree.mousedrag",t)},InitializeUI:function(){this.root.state.svgMain=this.$refs.svgMain,this.root.state.svgTree=this.$refs.svgTree,this.root.state.svgTreeContainer=this.$refs.svgTreeContainer,this.root.state.svgTaskList=this.$refs.svgTaskList,this.$root.$emit("gantt.main.InitializeUI")},mouseMove:function(t){this.$root.$emit("gantt.main.mousemove",t)},mouseUp:function(t){this.$root.$emit("gantt.main.mouseup",t)}}},pt=ut,ft=Object(k["a"])(pt,d,h,!1,null,null,null);ft.options.__file="GanttComponent.vue";var mt=ft.exports;function gt(t){var e;return{title:{html:!1,style:{"font-size":"20px","vertical-align":"middle","font-weight":"400","line-height":"35px","padding-left":"22px","letter-spacing":"1px"}},debug:!1,width:0,height:0,scroll:{taskList:{left:0,right:0,top:0,bottom:0},tree:{left:0,right:0,percent:0,timePercent:0,top:0,bottom:0,time:0,timeCenter:0,dateTime:{left:"",right:""}}},svgElement:null,scope:{before:1,after:1},times:{timeScale:6e4,timeZoom:17,timePerPixel:0,fistDate:null,firstTime:null,lastDate:null,lastTime:null,firstTaskDate:null,firstTaskTime:0,lastTaskDate:null,lastTaskTime:0,totalViewDurationMs:0,totalViewDurationPx:0,stepDuration:"day",steps:[]},row:{CountHeight:0,MaxRowHeight:48,MinRowHeight:26,height:[],styles:{bar:{fill:"#F75C4C",stroke:"#E74C3C","stroke-width":"1"},text:{fill:"#ffffff","font-family":"sans-serif","font-size":"12px"}},showText:!0},treeText:{offset:0,styles:{text:(e={"font-weight":"normal","font-size":"12px","font-family":"sans-serif",fill:"#221122a0"},Object(n["a"])(e,"font-weight","normal"),Object(n["a"])(e,"word-wrap","break-word"),Object(n["a"])(e,"word-break","break-all"),Object(n["a"])(e,"padding","4px"),e),background:{fill:"#dede7700",background:"#dede7700"}},xPadding:10},description:{offset:0,styles:{text:{fontfamily:"sans-serif",fontsize:"12px","font-family":"sans-serif","font-size":"12px","font-weight":"normal",fill:"#444444ff",background:"#dede77f0","word-wrap":"break-word","word-break":"break-all","border-style":"solid","border-width":"2px","border-color":"#0088ffde",padding:"4px"},background:{fill:"#dede77f0",background:"#dede77f0"}},style:{fill:"transparent",stroke:"#ff008890","stroke-width":3},Arrow:{"stroke-width":0,fill:"#ff008890",stroke:"#ff008890"}},dependencyLines:{style:{fill:"transparent",stroke:"#0088ff90","stroke-width":2},Arrow:{"stroke-width":0,fill:"#0088ff90",stroke:"#0088ff90"}},progress:{width:20,height:6,pattern:!0,bar:!1,styles:{bar:{pattern:{fill:"#0088ffaa"},solid:{fill:"#E74C3C",height:"100%"}}}},grid:{horizontal:{gap:6,style:{stroke:"#00000020",strokeWidth:3,"pointer-events":"none"},lines:[]},Rect:{style:{fill:"#00000020",strokeWidth:0}},RectIn:{style:{fill:"#00000025",strokeWidth:0}},RectAc:{style:{fill:"#0088ff25",strokeWidth:0}},vertical:{strokeWidth:1,style:{stroke:"#00000020",strokeWidth:1,"pointer-events":"none"},lines:[]},timeLine:{style:{stroke:"#FF000080",strokeWidth:1,"pointer-events":"none"}}},info:{style:"fill:#000000a0",textStyle:"fill:#fff",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",display:!1},taskList:{display:!0,styles:{row:{background:"transparent","border-color":"#eee"},column:{"border-color":"#eee",height:0,width:0,"line-height":0},header:{background:"#f3f5f7","border-color":"transparent"},label:{display:"inline-flex",margin:"auto 6px",color:"#404040"},value:{margin:"auto 6px",overflow:"hidden","text-overflow":"ellipsis","line-height":"1.5em","word-break":"keep-all","font-family":"sans-serif","font-size":"12px","white-space":"nowrap",color:"#606060"},expander:{wrapper:{stroke:"#909090",strokeWidth:1,fill:"#ffffffa0",display:"inline-flex",flexShrink:0,boxSizing:"border-box"},content:{display:"inline-flex",cursor:"pointer",margin:"auto 0px",boxSizing:"border-box"}}},columns:[{id:0,label:"ID",value:"id",width:40,styles:{label:{}}}],resizerWidth:0,percent:100,width:0,finalWidth:0,expander:{size:16,columnWidth:24,padding:16,margin:10,straight:!0}},calendar:{hours:[],days:[],months:[],gap:6,height:28,styles:{wrapper:{width:"100%",height:"100%",background:"#f3f5f7","border-color":"#f3f5f7"},row:{fill:"transparent",stroke:"#dadada","stroke-width":1},column:{stroke:"#dadada","stroke-width":1,fill:"transparent"},text:{fontfamily:"sans-serif",fontsize:"12px",fill:"#606060"}},hour:{height:20,display:!0,fontSize:"12px",style:{stroke:"#dadada","stroke-width":.5},widths:[],maxWidths:{},format:{long:function(e){return l()(e).locale(t.locale.code).format("HH:mm")},medium:function(e){return l()(e).locale(t.locale.code).format("HH:mm")},short:function(e){return l()(e).locale(t.locale.code).format("HH")}}},day:{height:20,display:!0,fontSize:"12px",style:{},widths:[],maxWidths:{},format:{long:function(e){return l()(e).locale(t.locale.code).format("DD dddd")},medium:function(e){return l()(e).locale(t.locale.code).format("DD ddd")},short:function(e){return l()(e).locale(t.locale.code).format("DD")}}},month:{height:20,display:!0,fontSize:"12px",style:{},widths:[],maxWidths:{},format:{short:function(e){return l()(e).locale(t.locale.code).format("MM")},medium:function(e){return l()(e).locale(t.locale.code).format("'YY MMM")},long:function(e){return l()(e).locale(t.locale.code).format("YYYY MMMM (MM)")}}}},defs:[],locale:{code:"en",Now:"Now","X-Scale":"Zoom-X","Y-Scale":"Zoom-Y","Task list width":"Task list","Before/After":"Expand","Display task list":"Show task list"}}}function kt(t){for(var e=function(t){return t&&"object"===Object(r["a"])(t)&&!Array.isArray(t)},s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];if(!a.length)return t;var o=a.shift();if(e(t)&&e(o))for(var l in o)e(o[l])?(t[l]||Object.assign(t,Object(n["a"])({},l,{})),kt(t[l],o[l])):Object.assign(t,Object(n["a"])({},l,o[l]));return kt.apply(void 0,[t].concat(a))}var yt={components:{Main:mt},watch:{tasks:{handler:function(t,e){this.InitializeUI()},deep:!0}},props:["tasks","options"],provide:function(){var t={},e=this;return Object.defineProperty(t,"root",{enumerable:!0,get:function(){return e}}),t},data:function(){return{state:{isRendering:!1}}},methods:{onMouseDrag:function(t){this.state.calendartreeScrollContainer.scrollLeft+=3*t.movementX,this.state.treeScrollContainer.scrollTop+=2*t.movementY,this.state.treeScrollContainer.scrollLeft+=3*t.movementX},OnVisibleTaksChanged:function(t,e){this.InitializeUI()},mergeDeep:kt,OnSelectedItem:function(t){this.$emit("SelectedItemChanged",t)},getScrollBarHeight:function(){var t=document.createElement("div");t.style.visibility="hidden",t.style.height="100px",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);var e=t.offsetHeight;t.style.overflow="scroll";var s=document.createElement("div");s.style.height="100%",t.appendChild(s);var a=s.offsetHeight;return t.parentNode.removeChild(t),e-a},initialize:function(){var t=this;this.state=this.mergeDeep({},gt(this.options),this.options,{tasks:this.tasks.map(function(e){return t.mergeDeep({},e,{start:l()(e.start).format("YYYY-MM-DD HH:mm:ss")})})}),l.a.locale(this.options.locale,null,!0),this.state.taskList.columns=this.state.taskList.columns.map(function(e,s){return e.finalWidth=e.width/100*t.state.taskList.percent,e.styles=t.mergeDeep({},t.state.taskList.styles,e.styles),"undefined"===typeof e.style&&(e.style={height:"0px","line-height":"0px",width:"0px"}),e.style=t.mergeDeep({},t.state.taskList.styles.column,e.style),"undefined"===typeof e.height&&(e.height=0),e._id="".concat(s,"-").concat(e.label),t.mergeDeep({},e)}),this.state.tasks=this.state.tasks.map(function(e){return e.x=0,e.y=0,e.width=0,e.height=0,e.tooltip={visible:!1},e.mouseOver=!1,e.dependencyLines=[],"undefined"===typeof e.visible&&(e.visible=!0),"undefined"===typeof e.collapsed&&(e.collapsed=!1),"undefined"===typeof e.dependencyLines&&(e.dependencyLines=[]),"undefined"===typeof e.dependentOn&&(e.dependentOn=[]),"undefined"===typeof e.parentId&&(e.parentId=null),"undefined"===typeof e.style&&(e.style={}),"undefined"===typeof e.progressBarStyle&&(e.progressBarStyle=t.mergeDeep({},t.state.progress.styles)),e.children=[],e.allChildren=[],e.parents=[],e.parent=null,e.durationMs=0,t.mergeDeep({},e)}),this.state.rootTask={id:null,label:"root",children:[],allChildren:[],parents:[],parent:null},this.resetTaskTree(),this.state.taskTree=this.makeTaskTree(this.state.rootTask),this.state.tasks=this.state.taskTree.allChildren,this.state.ctx=document.createElement("canvas").getContext("2d"),this.calculateTaskListColumnsWidths(),this.state.scrollBarHeight=this.getScrollBarHeight(),this.state.outerHeight=this.state.height+this.state.scrollBarHeight},calculateCalendarDimensions:function(){this.state.calendar.height=0,this.state.calendar.hour.display&&(this.state.calendar.height+=this.state.calendar.hour.height),this.state.calendar.day.display&&(this.state.calendar.height+=this.state.calendar.day.height),this.state.calendar.month.display&&(this.state.calendar.height+=this.state.calendar.month.height)},getMaximalLevel:function(){var t=0;return this.state.tasks.forEach(function(e){e.parents.length>t&&(t=e.parents.length)}),t-1},getMaximalExpanderWidth:function(){return this.getMaximalLevel()*this.state.taskList.expander.padding+this.state.taskList.expander.margin},calculateTaskListColumnsWidths:function(){var t=this,e=0;this.state.taskList.columns.forEach(function(s){s.expander?s.finalWidth=(t.getMaximalExpanderWidth()+s.width)/100*t.state.taskList.percent:s.finalWidth=s.width/100*t.state.taskList.percent,e+=s.finalWidth;var a=t.state.row.CountHeight+2*t.state.grid.horizontal.gap-t.state.grid.horizontal.strokeWidth;s.style.height=a+"px",s.style["line-height"]=a+"px",s.style.width=s.finalWidth+"px"}),this.state.taskList.finalWidth=e},resetTaskTree:function(){this.state.rootTask.children=[],this.state.rootTask.allChildren=[],this.state.rootTask.parent=null,this.state.rootTask.parents=[];for(var t=0,e=this.state.tasks.length;t<e;t++){var s=this.state.tasks[t];s.children=[],s.allChildren=[],s.parent=null,s.parents=[]}},makeTaskTree:function(t){for(var e=this,s=function(s,a){var i=e.state.tasks[s];i.parentId===t.id&&(t.parents.length&&t.parents.forEach(function(t){return i.parents.push(t)}),t!==e.root?(i.parents.push(t),i.parent=t):(i.parents=[],i.parent=null),i=e.makeTaskTree(i),t.allChildren.push(i),t.children.push(i),i.allChildren.forEach(function(e){return t.allChildren.push(e)}))},a=0,i=this.state.tasks.length;a<i;a++)s(a,i);return t},getTask:function(t){return this.tasksById[t]},getChildren:function(t){return this.state.tasks.filter(function(e){return e.parent===t})},getSVG:function(){return this.state.svgMain.outerHTML},getImage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png";return new Promise(function(s,a){var i=new Image;i.onload=function(){var a=document.createElement("canvas");a.width=t.state.svgMain.clientWidth,a.height=t.state.svgMain.clientHeight,a.getContext("2d").drawImage(i,0,0),s(a.toDataURL(e))},i.src="data:image/svg+xml,"+encodeURIComponent(t.getSVG())})},getHeight:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.state.row.CountHeight+2*this.state.calendar.styles.column["stroke-width"]+this.state.calendar.gap;return e&&(s+=this.state.scrollBarHeight),s},timeToPixelOffsetX:function(t){var e=t-this.state.times.firstTime;return e&&(e/=this.state.times.timePerPixel),e},pixelOffsetXToTime:function(t){var e=t+this.state.grid.vertical.style.strokeWidth/2;return e*this.state.times.timePerPixel+this.state.times.firstTime},isInsideViewPort:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return t+e+s>=this.state.scroll.tree.left&&t-s<=this.state.scroll.tree.right||t-s<=this.state.scroll.tree.left&&t+e+s>=this.state.scroll.tree.right},onScrollTree:function(t){this._onScrollTree(t.target.scrollLeft,t.target.scrollTop)},_onScrollTree:function(t,e){var s=this.state.svgTreeContainer.clientWidth;this.state.scroll.tree.left=t,this.state.scroll.tree.right=t+s,this.state.scroll.tree.percent=t/this.state.times.totalViewDurationPx*100,this.state.scroll.tree.top=e,this.state.scroll.tree.time=this.pixelOffsetXToTime(t),this.state.scroll.tree.timeCenter=this.pixelOffsetXToTime(t+s/2),this.state.scroll.tree.dateTime.left=l()(this.state.scroll.tree.time),this.state.scroll.tree.dateTime.right=l()(this.pixelOffsetXToTime(t+this.state.svgTree.clientWidth)),this.scrollTo(t)},scrollToTime:function(t){var e=this.timeToPixelOffsetX(t),s=this.state.svgTreeContainer.clientWidth;e-=s/2,e>this.state.width&&(e=this.state.width-s),this.scrollTo(e)},scrollTo:function(t){console.log("onScroll..."),this.state.calendartreeScrollContainer.scrollLeft=t},fixScrollPos:function(){var t=this;this.$nextTick(function(){t.scrollToTime(t.state.scroll.tree.timeCenter)})},onWheelTree:function(t){var e=t.wheelDeltaY;this.state.svgTreeContainer.scrollLeft+=e,this.state.treeScrollContainer.scrollLeft+=e,this.state.calendartreeScrollContainer.scrollLeft+=e},onTimeZoomChange:function(t){if(!this.state.isRendering){this.state.isRendering=!0;try{var e=this.state.times.timeZoom+t.wheelDeltaY%100/100;e=Math.min(Math.max(2,e),24),this.state.times.timeZoom=e,this.recalculateTimes(),this.calculateSteps(),this.calculateCalendarDimensions(),this.fixScrollPos()}finally{this.state.isRendering=!1}}},onScopeChange:function(t){this.state.scope.before=t,this.state.scope.after=t,this.initTimes(),this.calculateSteps(),this.computeCalendarWidths(),this.fixScrollPos()},onTaskListWidthChange:function(t){this.state.taskList.percent=t,this.calculateTaskListColumnsWidths(),this.fixScrollPos()},onTaskListColumnWidthChange:function(t){this.calculateTaskListColumnsWidths(),this.fixScrollPos()},initializeEvents:function(){this.$root.$on("gantt.tree.mousedrag",this.onMouseDrag),this.$root.$on("gantt.tree.scroll",this.onScrollTree),this.$root.$on("gantt.tree.OnMouseWheel",this.onWheelTree),this.$root.$on("gantt.times.timeZoom.change",this.onTimeZoomChange),this.$root.$on("gantt.row.height.change",this.onRowHeightChange),this.$root.$on("gantt.scope.change",this.onScopeChange),this.$root.$on("gantt.taskList.width.change",this.onTaskListWidthChange),this.$root.$on("taskList.column.width.change",this.onTaskListColumnWidthChange),this.$root.$on("gantt.OnClickItem",this.OnSelectedItem)},recalculateTimes:function(){var t=60*this.state.times.timeScale,e=this.state.times.timeScale,s=t/e,a=this.state.times.timeZoom/100;this.state.times.timePerPixel=this.state.times.timeScale*s*a+Math.pow(2,this.state.times.timeZoom),this.state.times.totalViewDurationMs=this.state.times.lastDate.diff(this.state.times.firstDate,"milisecods"),this.state.times.totalViewDurationPx=this.state.times.totalViewDurationMs/this.state.times.timePerPixel},initTimes:function(){this.state.times.timeScale,this.state.times.timeScale,this.state.times.timeZoom;this.state.times.firstDate=l()(this.state.times.firstTaskDate).locale(this.locale).startOf("day").subtract(this.state.scope.before,"days").startOf("day"),this.state.times.lastDate=l()(this.state.times.lastTaskDate).locale(this.locale).endOf("day").add(this.state.scope.after,"days").endOf("day"),this.state.times.firstTime=this.state.times.firstDate.valueOf(),this.state.times.lastTime=this.state.times.lastDate.valueOf(),this.recalculateTimes()},calculateSteps:function(){var t=[],e=l()(this.state.times.lastDate).valueOf(),s=this.state.times.stepDuration,a=l()(this.state.times.firstDate);t.push({date:a,offset:{ms:0,px:0}});for(var i=l()(this.state.times.firstDate).add(1,s).startOf("day");i.valueOf()<=e;i=i.add(1,s).startOf("day")){var r=i.diff(this.state.times.firstDate,"milisecods"),n=r/this.state.times.timePerPixel,o={date:i,offset:{ms:r,px:n}},d=t[t.length-1];d.width={ms:r-d.offset.ms,px:n-d.offset.px},t.push(o)}var h=t[t.length-1];h.width={ms:this.state.times.totalViewDurationMs-h.offset.ms,px:this.state.times.totalViewDurationPx-h.offset.px},this.state.times.steps=t},computeCalendarWidths:function(){this.computeDayWidths(),this.computeHourWidths(),this.computeMonthWidths()},computeHourWidths:function(){var t=this.state;t.ctx.font=t.calendar.hour.fontSize+" "+t.calendar.fontFamily;var e=l()("2018-01-01T00:00:00"),s={};Object.keys(t.calendar.hour.format).forEach(function(t){s[t]=0});for(var a=function(a){var i={hour:a};Object.keys(t.calendar.hour.format).forEach(function(s){i[s]=t.ctx.measureText(t.calendar.hour.format[s](e.toDate())).width}),t.calendar.hour.widths.push(i),Object.keys(t.calendar.hour.format).forEach(function(t){i[t]>s[t]&&(s[t]=i[t])}),e=e.add(1,"hour")},i=0;i<24;i++)a(i);t.calendar.hour.maxWidths=s},computeDayWidths:function(){var t=this.state;t.ctx.font=t.calendar.day.fontSize+" "+t.calendar.fontFamily;var e=l()(t.times.steps[0].date),s={};Object.keys(t.calendar.day.format).forEach(function(t){s[t]=0});for(var a=function(a,i){var r={day:a};Object.keys(t.calendar.day.format).forEach(function(s){r[s]=t.ctx.measureText(t.calendar.day.format[s](e.toDate())).width}),t.calendar.day.widths.push(r),Object.keys(t.calendar.day.format).forEach(function(t){r[t]>s[t]&&(s[t]=r[t])}),e=e.add(1,"day")},i=0,r=t.times.steps.length;i<r;i++)a(i,r);t.calendar.day.maxWidths=s},computeMonthWidths:function(){var t=this.state;t.ctx.font=t.calendar.day.fontSize+" "+t.calendar.fontFamily;var e={};Object.keys(t.calendar.month.format).forEach(function(t){e[t]=0});for(var s=l()(this.state.times.firstDate),a=Math.ceil(this.state.times.lastDate.diff(this.state.times.firstDate,"months",!0)),i=function(a){var i={month:a};Object.keys(t.calendar.month.format).forEach(function(e){i[e]=t.ctx.measureText(t.calendar.month.format[e](s.toDate())).width}),t.calendar.month.widths.push(i),Object.keys(t.calendar.month.format).forEach(function(t){i[t]>e[t]&&(e[t]=i[t])}),s=s.add(1,"month")},r=0;r<a;r++)i(r);t.calendar.month.maxWidths=e},MeasureText:function(t,e){var s=document.createElement("div");s.style["font-weight"]="normal",s.style["font-size"]="12px",s.style["font-family"]="sans-serif",s.style["fill"]="#221122a0",s.style["font-weight"]="normal",s.style["word-wrap"]="break-word",s.style["word-break"]="break-all",s.style["padding"]="4px",s.style["width"]=e+"px",s.textContent=t,document.body.appendChild(s);var a=s.offsetHeight;s.offsetWidth;return document.body.removeChild(s),Math.max(this.state.row.MinRowHeight,Math.min(a,this.state.row.MaxRowHeight))},InitializeUI:function(){var t=this;this.initialize(),this.tasksById={},this.state.tasks.forEach(function(e){return t.tasksById[e.id]=e});this.state.tasks;for(var e,s,a=Number.MAX_SAFE_INTEGER,i=0,r=0,n=this.state.tasks.length;r<n;r++){var o=this.state.tasks[r];o.startDate=l()(o.start),o.startTime=o.startDate.valueOf(),o.durationMs=1e3*o.duration,o.startTime<a&&(a=o.startTime,e=o.startDate),o.startTime+o.durationMs>i&&(i=o.startTime+o.durationMs,s=l()(o.startTime+o.durationMs))}this.state.times.firstTaskTime=a,this.state.times.lastTaskTime=i,this.state.times.firstTaskDate=e,this.state.times.lastTaskDate=s,this.state.times.firstDate=l()(e).locale(this.locale).startOf("day").subtract(this.state.scope.before,"days").startOf("day"),this.state.times.lastDate=l()(s).locale(this.locale).endOf("day").add(this.state.scope.after,"days").endOf("day"),this.initTimes(),this.calculateSteps(),this.computeCalendarWidths(),this.calculateCalendarDimensions()}},computed:{visibleTasks:function(){this.state.taskList.width=this.state.taskList.columns.reduce(function(t,e){return{width:t.width+e.width}},{width:0}).width,this.state.width=this.state.times.totalViewDurationPx+this.state.grid.vertical.style.strokeWidth,this.resetTaskTree(),this.state.tasks=this.makeTaskTree(this.state.rootTask).allChildren;var t=this.state.tasks.filter(function(t){return t.visible});this.state.row.CountHeight=0;for(var e=0,s=0,a=0,i=0,r=t.length;i<r;i++){var n=t[i];n.width=n.durationMs/this.state.times.timePerPixel-this.state.grid.vertical.style.strokeWidth,n.width<0&&(n.width=1),a=this.MeasureText(n.label,n.width),this.state.row.height[n.id]=a,n.x=this.timeToPixelOffsetX(n.startTime),n.y=e+this.state.calendar.height+2*this.state.grid.horizontal.gap*i+this.state.grid.horizontal.gap,n.height=a,e+=a,s=n.y}return this.state.row.CountHeight=s+a+this.state.grid.horizontal.gap,this.state.height=this.getHeight(t),this.state.outerHeight=this.getHeight(t,!0),t}},created:function(){this.initializeEvents(),this.InitializeUI()}},vt=yt,wt=vt,Tt=(s("689d"),Object(k["a"])(wt,a,i,!1,null,null,null));Tt.options.__file="GanttControl.vue";e["a"]=Tt.exports}});